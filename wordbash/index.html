<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>WordBash</title>
    <style>
        :root {
            --bg-color: #2c3e50;
            --tile-bg: #ecf0f1;
            --text-color: #34495e;
            --highlight: #2ecc71;
            --gold: #f1c40f;
            --tile-size: 70px;
        }

        body {
            font-family: 'Verdana', sans-serif;
            background-color: var(--bg-color);
            color: white;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100dvh;
            overflow: hidden;
        }

        .header { 
            padding: 10px; text-align: center; z-index: 100; 
            height: 60px; box-sizing: border-box; 
            background: var(--bg-color);
            width: 100%;
            flex-shrink: 0;
        }
        h1 { margin: 0; font-size: 20px; letter-spacing: 2px; }
        .score { font-size: 16px; color: var(--gold); font-weight: bold; }

        .game-viewport {
            flex: 1;
            width: 100%;
            position: relative;
            display: flex;
            justify-content: center;
            gap: 10px;
            overflow: hidden;
        }

        /* The Center Marker */
        .payline {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: var(--tile-size);
            transform: translateY(-50%);
            border-top: 2px solid rgba(231, 76, 60, 0.8);
            border-bottom: 2px solid rgba(231, 76, 60, 0.8);
            background: rgba(255, 255, 255, 0.05);
            pointer-events: none;
            z-index: 50;
        }

        .column {
            width: var(--tile-size);
            height: 100%;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scrollbar-width: none;
            display: flex;
            flex-direction: column;
            /* Scroll padding ensures snap align: center target is the center of the viewport */
            scroll-padding-top: 50%;
            scroll-padding-bottom: 50%;
            padding: 50% 0; /* Add padding so items can reach center */
            box-sizing: border-box;
            -webkit-overflow-scrolling: touch;
        }
        .column::-webkit-scrollbar { display: none; }

        .tile {
            width: var(--tile-size);
            height: var(--tile-size);
            flex-shrink: 0;
            background: var(--tile-bg);
            color: var(--text-color);
            font-size: 36px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            margin-bottom: 10px; 
            scroll-snap-align: center;
            box-shadow: 0 4px 0 rgba(0,0,0,0.15);
            user-select: none;
            transition: background-color 0.2s, color 0.2s, transform 0.2s;
        }
        
        .tile:last-child { margin-bottom: 0; }

        .tile.matched {
            background-color: var(--highlight);
            color: white;
            transform: scale(1.1);
            z-index: 60;
        }

        .controls { padding: 10px; z-index: 100; color: #bdc3c7; font-size: 12px; flex-shrink: 0; }
    </style>
</head>
<body>

    <div class="header">
        <h1>WORD BASH</h1>
        <div class="score">SCORE: <span id="scoreVal">0</span></div>
    </div>

    <div class="game-viewport" id="board">
        <div class="payline"></div>
    </div>

    <div class="controls">
        Scroll to align words in the red center line.
    </div>

    <script>
        // Massive compressed dictionary
        const RAW_DICT = "ABLE ACID AGED ALSO AREA ARMY AWAY BABY BACK BALL BAND BANK BASE BATH BEAR BEAT BEEN BEER BELL BELT BEST BILL BIRD BLOW BLUE BOAT BODY BOMB BOND BONE BOOK BOOM BORN BOSS BOTH BOWL BULK BURN BUSH BUSY CALL CALM CAME CAMP CARD CARE CASE CASH CAST CELL CHAT CHIP CITY CLUB COAL COAT CODE COLD COME COOK COOL COPE COPY CORE COST CREW CROP DARK DATA DATE DAWN DAYS DEAD DEAL DEAN DEAR DEBT DEEP DENY DESK DIAL DIET DISC DISK DOES DONE DOOR DOSE DOWN DRAW DREW DROP DRUG DUAL DUKE DUST DUTY EACH EARN EARS EASE EAST EASY EDGE ELSE EVEN EVER EVIL EXIT FACE FACT FAIL FAIR FALL FARM FAST FATE FEAR FEED FEEL FEET FELL FELT FILE FILL FILM FIND FINE FIRE FIRM FISH FIVE FLAT FLOW FOOD FOOT FORD FORM FORT FOUR FREE FROM FUEL FULL FUND GAIN GAME GATE GAVE GEAR GENE GIFT GIRL GIVE GLAD GOAL GOES GOLD GOLF GONE GOOD GRAY GREW GREY GROW GULF HAIR HALF HALL HAND HANG HARD HARM HATE HAVE HEAD HEAR HEAT HELD HELL HELP HERE HERO HIGH HILL HIRE HOLD HOLE HOLY HOME HOPE HOST HOUR HUGE HUNG HUNT HURT IDEA INCH INTO IRON ITEM JACK JANE JEAN JOHN JOIN JUMP JURY JUST KEEN KEEP KEPT KICK KILL KIND KING KNEE KNEW KNOW LACK LADY LAID LAKE LAND LANE LAST LATE LEAD LEFT LESS LIFE LIFT LIKE LINE LINK LIST LIVE LOAD LOAN LOCK LOGO LONG LOOK LORD LOSE LOSS LOST LOVE LUCK MADE MAIL MAIN MAKE MALE MANY MARK MASS MEAL MEAN MEAT MEET MENU MERE MILE MILK MILL MIND MINE MISS MODE MOOD MOON MORE MOST MOVE MUCH MUST NAME NAVY NEAR NECK NEED NEWS NEXT NICE NINE NONE NOSE NOTE OKAY ONCE ONLY ONTO OPEN ORAL OVER PACE PACK PAGE PAID PAIN PAIR PALM PARK PART PASS PAST PATH PEAK PICK PILE PINK PIPE PLAN PLAY PLOT PLUG PLUS POLL POOL POOR PORT POST PULL PURE PUSH RACE RAIL RAIN RANK RARE RATE READ REAL REAR RELY RENT REST RICE RICH RIDE RING RISE RISK ROAD ROCK ROLE ROLL ROOF ROOM ROOT ROSE RULE RUSH RUTH SAFE SAID SAKE SALE SALT SAME SAND SAVE SEAT SEED SEEK SEEM SEEN SELF SELL SEND SENT SEPT SHIP SHOP SHOT SHOW SHUT SICK SIDE SIGN SILK SITE SIZE SKIN SLIP SLOW SNOW SOFT SOIL SOLD SOLE SOME SONG SOON SORT SOUL SOUP SPOT STAR STAY STEP STOP SUCH SUIT SURE TAKE TALE TALK TALL TANK TAPE TASK TEAM TECH TELL TEND TERM TEST TEXT THAT THEM THEN THIN THIS THUS TILL TIME TINY TOLD TOLL TONE TONY TOOK TOOL TOUR TOWN TREE TRIP TRUE TUBE TURN TWIN TYPE UNIT UPON USED USER VARY VAST VERY VICE VIEW VOTE WAGE WAIT WAKE WALK WALL WANT WARD WARM WASH WAVE WAYS WEAK WEAR WEEK WELL WENT WERE WEST WHAT WHEN WHOM WIDE WIFE WILD WILL WIND WINE WING WIRE WISE WISH WITH WOOD WORD WORK YARD YEAR ZERO ZONE ZOO ZOOM ZINC ZEST YOGA YOGI YOLK YAWN YARN WORM WOOL WOLF DOGE FEAT";
        const DICT = new Set(RAW_DICT.split(" "));
        const ALPHABET = "EEEEAAAAIIIOOOUURRTLLSSNNDGBCMPFHVWYKJXQZ"; 

        const COLS = 4;
        const FULL_ITEM_HEIGHT = 80; // 70 + 10 margin
        let score = 0;
        const columns = [];
        const scoreEl = document.getElementById('scoreVal');

        function init() {
            const board = document.getElementById('board');
            for (let c = 0; c < COLS; c++) {
                const col = document.createElement('div');
                col.className = 'column';
                for (let i = 0; i < 20; i++) { 
                    col.appendChild(createTile());
                }
                board.appendChild(col);
                columns.push(col);

                let isScrolling;
                col.addEventListener('scroll', () => {
                    window.clearTimeout(isScrolling);
                    isScrolling = setTimeout(checkAllWords, 150);
                });

                setTimeout(() => {
                    col.scrollTop = Math.floor(Math.random() * 10) * FULL_ITEM_HEIGHT;
                }, 100);
            }
        }

        function createTile() {
            const tile = document.createElement('div');
            tile.className = 'tile';
            tile.innerText = ALPHABET[Math.floor(Math.random() * ALPHABET.length)];
            return tile;
        }

        function checkAllWords() {
            let word = "";
            let targetTiles = [];
            columns.forEach(col => {
                const idx = Math.round(col.scrollTop / FULL_ITEM_HEIGHT);
                const tile = col.children[idx];
                if (tile) {
                    word += tile.innerText;
                    targetTiles.push(tile);
                }
            });

            if (DICT.has(word)) {
                score += 100;
                scoreEl.innerText = score;
                targetTiles.forEach(t => {
                    t.classList.add('matched');
                    setTimeout(() => {
                        t.classList.remove('matched');
                        t.innerText = ALPHABET[Math.floor(Math.random() * ALPHABET.length)];
                    }, 1000);
                });
            }
        }

        init();
    </script>
</body>
</html>